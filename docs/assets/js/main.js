"use strict";const searchButton=document.querySelector(".js-button"),search=document.querySelector(".js-search"),showcontainer=document.querySelector(".js-showlist"),favoritecontainer=document.querySelector(".js-favoritelist");let arrayShows=[],arrayFavorite=[];function renderShows(){let e="";for(const o of arrayShows){e+=void 0!==arrayFavorite.find(e=>e.show.id===o.show.id)?`<li  data-id="${o.show.id}" class="js-shows favorite show">`:`<li data-id="${o.show.id}" class="js-shows show">`,null!==o.show.image?e+=`<img src="${o.show.image.medium}" alt="">`:e+='<img src="https://via.placeholder.com/210x295/ffffff/666666/?text=TV" alt="">',e+=`<h2>${o.show.name}</h2>`,e+="</li>"}showcontainer.innerHTML=e,addListenShow()}function handlerSearch(){const e=search.value.toLowerCase();fetch("//api.tvmaze.com/search/shows?q="+e).then(e=>e.json()).then(e=>{arrayShows=e,renderShows(arrayShows)}).catch(e=>console.log("Inténtalo de nuevo más tarde",e))}function addListenShow(){const e=document.querySelectorAll(".js-shows");for(const o of e)o.addEventListener("click",handleClickFav)}function handleClickFav(e){const o=e.currentTarget,a=parseInt(o.dataset.id);if(void 0===arrayFavorite.find(e=>e.show.id===a)){const e=arrayShows.find(e=>e.show.id===a);arrayFavorite.push(e)}else arrayFavorite=arrayFavorite.filter(e=>e.show.id!==a);renderFavorites(arrayFavorite),console.log(arrayFavorite)}function renderFavorites(){let e="";for(const o of arrayFavorite)e+=`<li  data-id="${o.show.id}" class="fav">`,null!==o.show.image?e+=`<img src="${o.show.image.medium}" alt="">`:e+='<img src="https://via.placeholder.com/210x295/ffffff/666666/?text=TV" alt="">',e+=`<h2>${o.show.name}</h2>`,e+="</li>";favoritecontainer.innerHTML=e}searchButton.addEventListener("click",handlerSearch);